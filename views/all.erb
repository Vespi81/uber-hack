<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
<script>
  function initialize() {
    var mapOptions = {
      zoom: 4,
      center: new google.maps.LatLng(51.5284,0.1331),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    }
    var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
    var markersArray = [];
    function clearOverlays() {
      for (var i = 0; i < markersArray.length; i++ ) {
        markersArray[i].setMap(null);
      }
      markersArray = [];
    }
    <% @london["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @atlairport["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @atlnorcross["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @atlriverdale["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @atlmableton["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @atlalpharetta["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @nymanhattan["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @nybrooklyn["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @nyridgewood["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @nynewark["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @nybronx["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @nyqueens["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @laedendale["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @laeast["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @la["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @lalongbeach["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @lasanpedro["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @latorrance["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @lacompton["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @lawhittier["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @lasantamonica["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @laelmonte["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @lahollywood["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @lavannuys["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @sfsanjose["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @sfsunnyvale["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @sfcupertino["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @sfpaloalto["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @sfsanmateo["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @sf["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @sfberkeley["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @sfoakland["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @sfhayward["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @sh["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <% @shpudong["nearbyVehicles"].each do |vehicletype| %>
      <% unless vehicletype[1]["vehiclePaths"].nil? %>
        <% vehicletype[1]["vehiclePaths"].each do |vehicle| %>
          <% unless vehicle[1].nil? %>
            <% unless vehicle[1][0].nil? %>
              <% vehiclesub = vehicle[1][0] %>
              <% unless vehiclesub["latitude"].nil? %>
                var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(<%= vehiclesub["latitude"] %>,<%= vehiclesub["longitude"] %>),
                  map: map,
                  title: 'Hello World!'
                });
                markersArray.push(marker);
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  }

  google.maps.event.addDomListener(window, 'load', initialize);
</script>